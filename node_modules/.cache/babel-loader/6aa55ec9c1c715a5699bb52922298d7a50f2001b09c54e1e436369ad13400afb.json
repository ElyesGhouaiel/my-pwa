{"ast":null,"code":"\"use strict\";\n\n// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PassThroughShim = void 0;\nexports.normalize = normalize;\nexports.objectEntries = objectEntries;\nexports.fixedEncodeURIComponent = fixedEncodeURIComponent;\nexports.encodeURI = encodeURI;\nexports.qsStringify = qsStringify;\nexports.objectKeyToLowercase = objectKeyToLowercase;\nexports.unicodeJSONStringify = unicodeJSONStringify;\nexports.convertObjKeysToSnakeCase = convertObjKeysToSnakeCase;\nexports.formatAsUTCISO = formatAsUTCISO;\nexports.getRuntimeTrackingString = getRuntimeTrackingString;\nexports.getUserAgentString = getUserAgentString;\nexports.getDirName = getDirName;\nexports.getModuleFormat = getModuleFormat;\nconst path = __importStar(require(\"path\"));\nconst querystring = __importStar(require(\"querystring\"));\nconst stream_1 = require(\"stream\");\nconst url = __importStar(require(\"url\"));\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst package_json_helper_cjs_1 = require(\"./package-json-helper.cjs\");\n// Done to avoid a problem with mangling of identifiers when using esModuleInterop\nconst fileURLToPath = url.fileURLToPath;\nconst isEsm = false;\nfunction normalize(optionsOrCallback, cb) {\n  const options = typeof optionsOrCallback === 'object' ? optionsOrCallback : {};\n  const callback = typeof optionsOrCallback === 'function' ? optionsOrCallback : cb;\n  return {\n    options,\n    callback\n  };\n}\n/**\r\n * Flatten an object into an Array of arrays, [[key, value], ..].\r\n * Implements Object.entries() for Node.js <8\r\n * @internal\r\n */\nfunction objectEntries(obj) {\n  return Object.keys(obj).map(key => [key, obj[key]]);\n}\n/**\r\n * Encode `str` with encodeURIComponent, plus these\r\n * reserved characters: `! * ' ( )`.\r\n *\r\n * See {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent| MDN: fixedEncodeURIComponent}\r\n *\r\n * @param {string} str The URI component to encode.\r\n * @return {string} The encoded string.\r\n */\nfunction fixedEncodeURIComponent(str) {\n  return encodeURIComponent(str).replace(/[!'()*]/g, c => '%' + c.charCodeAt(0).toString(16).toUpperCase());\n}\n/**\r\n * URI encode `uri` for generating signed URLs, using fixedEncodeURIComponent.\r\n *\r\n * Encode every byte except `A-Z a-Z 0-9 ~ - . _`.\r\n *\r\n * @param {string} uri The URI to encode.\r\n * @param [boolean=false] encodeSlash If `true`, the \"/\" character is not encoded.\r\n * @return {string} The encoded string.\r\n */\nfunction encodeURI(uri, encodeSlash) {\n  // Split the string by `/`, and conditionally rejoin them with either\n  // %2F if encodeSlash is `true`, or '/' if `false`.\n  return uri.split('/').map(fixedEncodeURIComponent).join(encodeSlash ? '%2F' : '/');\n}\n/**\r\n * Serialize an object to a URL query string using util.encodeURI(uri, true).\r\n * @param {string} url The object to serialize.\r\n * @return {string} Serialized string.\r\n */\nfunction qsStringify(qs) {\n  return querystring.stringify(qs, '&', '=', {\n    encodeURIComponent: component => encodeURI(component, true)\n  });\n}\nfunction objectKeyToLowercase(object) {\n  const newObj = {};\n  for (let key of Object.keys(object)) {\n    const value = object[key];\n    key = key.toLowerCase();\n    newObj[key] = value;\n  }\n  return newObj;\n}\n/**\r\n * JSON encode str, with unicode \\u+ representation.\r\n * @param {object} obj The object to encode.\r\n * @return {string} Serialized string.\r\n */\nfunction unicodeJSONStringify(obj) {\n  return JSON.stringify(obj).replace(/[\\u0080-\\uFFFF]/g, char => '\\\\u' + ('0000' + char.charCodeAt(0).toString(16)).slice(-4));\n}\n/**\r\n * Converts the given objects keys to snake_case\r\n * @param {object} obj object to convert keys to snake case.\r\n * @returns {object} object with keys converted to snake case.\r\n */\nfunction convertObjKeysToSnakeCase(obj) {\n  if (obj instanceof Date || obj instanceof RegExp) {\n    return obj;\n  }\n  if (Array.isArray(obj)) {\n    return obj.map(convertObjKeysToSnakeCase);\n  }\n  if (obj instanceof Object) {\n    return Object.keys(obj).reduce((acc, cur) => {\n      const s = cur[0].toLocaleLowerCase() + cur.slice(1).replace(/([A-Z]+)/g, (match, p1) => {\n        return `_${p1.toLowerCase()}`;\n      });\n      acc[s] = convertObjKeysToSnakeCase(obj[cur]);\n      return acc;\n    }, Object());\n  }\n  return obj;\n}\n/**\r\n * Formats the provided date object as a UTC ISO string.\r\n * @param {Date} dateTimeToFormat date object to be formatted.\r\n * @param {boolean} includeTime flag to include hours, minutes, seconds in output.\r\n * @param {string} dateDelimiter delimiter between date components.\r\n * @param {string} timeDelimiter delimiter between time components.\r\n * @returns {string} UTC ISO format of provided date obect.\r\n */\nfunction formatAsUTCISO(dateTimeToFormat, includeTime = false, dateDelimiter = '', timeDelimiter = '') {\n  const year = dateTimeToFormat.getUTCFullYear();\n  const month = dateTimeToFormat.getUTCMonth() + 1;\n  const day = dateTimeToFormat.getUTCDate();\n  const hour = dateTimeToFormat.getUTCHours();\n  const minute = dateTimeToFormat.getUTCMinutes();\n  const second = dateTimeToFormat.getUTCSeconds();\n  let resultString = `${year.toString().padStart(4, '0')}${dateDelimiter}${month.toString().padStart(2, '0')}${dateDelimiter}${day.toString().padStart(2, '0')}`;\n  if (includeTime) {\n    resultString = `${resultString}T${hour.toString().padStart(2, '0')}${timeDelimiter}${minute.toString().padStart(2, '0')}${timeDelimiter}${second.toString().padStart(2, '0')}Z`;\n  }\n  return resultString;\n}\n/**\r\n * Examines the runtime environment and returns the appropriate tracking string.\r\n * @returns {string} metrics tracking string based on the current runtime environment.\r\n */\nfunction getRuntimeTrackingString() {\n  if (\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  globalThis.Deno &&\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  globalThis.Deno.version &&\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  globalThis.Deno.version.deno) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    return `gl-deno/${globalThis.Deno.version.deno}`;\n  } else {\n    return `gl-node/${process.versions.node}`;\n  }\n}\n/**\r\n * Looks at package.json and creates the user-agent string to be applied to request headers.\r\n * @returns {string} user agent string.\r\n */\nfunction getUserAgentString() {\n  const pkg = (0, package_json_helper_cjs_1.getPackageJSON)();\n  const hyphenatedPackageName = pkg.name.replace('@google-cloud', 'gcloud-node') // For legacy purposes.\n  .replace('/', '-'); // For UA spec-compliance purposes.\n  return hyphenatedPackageName + '/' + pkg.version;\n}\nfunction getDirName() {\n  let dirToUse = '';\n  try {\n    dirToUse = __dirname;\n  } catch (e) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    dirToUse = __dirname;\n  }\n  return dirToUse;\n}\nfunction getModuleFormat() {\n  return isEsm ? 'ESM' : 'CJS';\n}\nclass PassThroughShim extends stream_1.PassThrough {\n  constructor() {\n    super(...arguments);\n    this.shouldEmitReading = true;\n    this.shouldEmitWriting = true;\n  }\n  _read(size) {\n    if (this.shouldEmitReading) {\n      this.emit('reading');\n      this.shouldEmitReading = false;\n    }\n    super._read(size);\n  }\n  _write(chunk, encoding, callback) {\n    if (this.shouldEmitWriting) {\n      this.emit('writing');\n      this.shouldEmitWriting = false;\n    }\n    // Per the nodejs documention, callback must be invoked on the next tick\n    process.nextTick(() => {\n      super._write(chunk, encoding, callback);\n    });\n  }\n  _final(callback) {\n    // If the stream is empty (i.e. empty file) final will be invoked before _read / _write\n    // and we should still emit the proper events.\n    if (this.shouldEmitReading) {\n      this.emit('reading');\n      this.shouldEmitReading = false;\n    }\n    if (this.shouldEmitWriting) {\n      this.emit('writing');\n      this.shouldEmitWriting = false;\n    }\n    callback(null);\n  }\n}\nexports.PassThroughShim = PassThroughShim;","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","exports","PassThroughShim","normalize","objectEntries","fixedEncodeURIComponent","encodeURI","qsStringify","objectKeyToLowercase","unicodeJSONStringify","convertObjKeysToSnakeCase","formatAsUTCISO","getRuntimeTrackingString","getUserAgentString","getDirName","getModuleFormat","path","require","querystring","stream_1","url","package_json_helper_cjs_1","fileURLToPath","isEsm","optionsOrCallback","cb","options","callback","obj","keys","map","key","str","encodeURIComponent","replace","c","charCodeAt","toString","toUpperCase","uri","encodeSlash","split","join","qs","stringify","component","object","newObj","toLowerCase","JSON","char","slice","Date","RegExp","Array","isArray","reduce","acc","cur","s","toLocaleLowerCase","match","p1","dateTimeToFormat","includeTime","dateDelimiter","timeDelimiter","year","getUTCFullYear","month","getUTCMonth","day","getUTCDate","hour","getUTCHours","minute","getUTCMinutes","second","getUTCSeconds","resultString","padStart","globalThis","Deno","version","deno","process","versions","node","pkg","getPackageJSON","hyphenatedPackageName","name","dirToUse","__dirname","e","PassThrough","constructor","arguments","shouldEmitReading","shouldEmitWriting","_read","size","emit","_write","chunk","encoding","nextTick","_final"],"sources":["C:/Users/yujir/Documents/ynov/app pwa/mypwafinal/my-pwa/node_modules/@google-cloud/storage/build/cjs/src/util.js"],"sourcesContent":["\"use strict\";\r\n\r\n// Copyright 2019 Google LLC\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//      http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\r\n  if (k2 === undefined) k2 = k;\r\n  var desc = Object.getOwnPropertyDescriptor(m, k);\r\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n    desc = {\r\n      enumerable: true,\r\n      get: function () {\r\n        return m[k];\r\n      }\r\n    };\r\n  }\r\n  Object.defineProperty(o, k2, desc);\r\n} : function (o, m, k, k2) {\r\n  if (k2 === undefined) k2 = k;\r\n  o[k2] = m[k];\r\n});\r\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\r\n  Object.defineProperty(o, \"default\", {\r\n    enumerable: true,\r\n    value: v\r\n  });\r\n} : function (o, v) {\r\n  o[\"default\"] = v;\r\n});\r\nvar __importStar = this && this.__importStar || function (mod) {\r\n  if (mod && mod.__esModule) return mod;\r\n  var result = {};\r\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n  __setModuleDefault(result, mod);\r\n  return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.PassThroughShim = void 0;\r\nexports.normalize = normalize;\r\nexports.objectEntries = objectEntries;\r\nexports.fixedEncodeURIComponent = fixedEncodeURIComponent;\r\nexports.encodeURI = encodeURI;\r\nexports.qsStringify = qsStringify;\r\nexports.objectKeyToLowercase = objectKeyToLowercase;\r\nexports.unicodeJSONStringify = unicodeJSONStringify;\r\nexports.convertObjKeysToSnakeCase = convertObjKeysToSnakeCase;\r\nexports.formatAsUTCISO = formatAsUTCISO;\r\nexports.getRuntimeTrackingString = getRuntimeTrackingString;\r\nexports.getUserAgentString = getUserAgentString;\r\nexports.getDirName = getDirName;\r\nexports.getModuleFormat = getModuleFormat;\r\nconst path = __importStar(require(\"path\"));\r\nconst querystring = __importStar(require(\"querystring\"));\r\nconst stream_1 = require(\"stream\");\r\nconst url = __importStar(require(\"url\"));\r\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n// @ts-ignore\r\nconst package_json_helper_cjs_1 = require(\"./package-json-helper.cjs\");\r\n// Done to avoid a problem with mangling of identifiers when using esModuleInterop\r\nconst fileURLToPath = url.fileURLToPath;\r\nconst isEsm = false;\r\nfunction normalize(optionsOrCallback, cb) {\r\n  const options = typeof optionsOrCallback === 'object' ? optionsOrCallback : {};\r\n  const callback = typeof optionsOrCallback === 'function' ? optionsOrCallback : cb;\r\n  return {\r\n    options,\r\n    callback\r\n  };\r\n}\r\n/**\r\n * Flatten an object into an Array of arrays, [[key, value], ..].\r\n * Implements Object.entries() for Node.js <8\r\n * @internal\r\n */\r\nfunction objectEntries(obj) {\r\n  return Object.keys(obj).map(key => [key, obj[key]]);\r\n}\r\n/**\r\n * Encode `str` with encodeURIComponent, plus these\r\n * reserved characters: `! * ' ( )`.\r\n *\r\n * See {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent| MDN: fixedEncodeURIComponent}\r\n *\r\n * @param {string} str The URI component to encode.\r\n * @return {string} The encoded string.\r\n */\r\nfunction fixedEncodeURIComponent(str) {\r\n  return encodeURIComponent(str).replace(/[!'()*]/g, c => '%' + c.charCodeAt(0).toString(16).toUpperCase());\r\n}\r\n/**\r\n * URI encode `uri` for generating signed URLs, using fixedEncodeURIComponent.\r\n *\r\n * Encode every byte except `A-Z a-Z 0-9 ~ - . _`.\r\n *\r\n * @param {string} uri The URI to encode.\r\n * @param [boolean=false] encodeSlash If `true`, the \"/\" character is not encoded.\r\n * @return {string} The encoded string.\r\n */\r\nfunction encodeURI(uri, encodeSlash) {\r\n  // Split the string by `/`, and conditionally rejoin them with either\r\n  // %2F if encodeSlash is `true`, or '/' if `false`.\r\n  return uri.split('/').map(fixedEncodeURIComponent).join(encodeSlash ? '%2F' : '/');\r\n}\r\n/**\r\n * Serialize an object to a URL query string using util.encodeURI(uri, true).\r\n * @param {string} url The object to serialize.\r\n * @return {string} Serialized string.\r\n */\r\nfunction qsStringify(qs) {\r\n  return querystring.stringify(qs, '&', '=', {\r\n    encodeURIComponent: component => encodeURI(component, true)\r\n  });\r\n}\r\nfunction objectKeyToLowercase(object) {\r\n  const newObj = {};\r\n  for (let key of Object.keys(object)) {\r\n    const value = object[key];\r\n    key = key.toLowerCase();\r\n    newObj[key] = value;\r\n  }\r\n  return newObj;\r\n}\r\n/**\r\n * JSON encode str, with unicode \\u+ representation.\r\n * @param {object} obj The object to encode.\r\n * @return {string} Serialized string.\r\n */\r\nfunction unicodeJSONStringify(obj) {\r\n  return JSON.stringify(obj).replace(/[\\u0080-\\uFFFF]/g, char => '\\\\u' + ('0000' + char.charCodeAt(0).toString(16)).slice(-4));\r\n}\r\n/**\r\n * Converts the given objects keys to snake_case\r\n * @param {object} obj object to convert keys to snake case.\r\n * @returns {object} object with keys converted to snake case.\r\n */\r\nfunction convertObjKeysToSnakeCase(obj) {\r\n  if (obj instanceof Date || obj instanceof RegExp) {\r\n    return obj;\r\n  }\r\n  if (Array.isArray(obj)) {\r\n    return obj.map(convertObjKeysToSnakeCase);\r\n  }\r\n  if (obj instanceof Object) {\r\n    return Object.keys(obj).reduce((acc, cur) => {\r\n      const s = cur[0].toLocaleLowerCase() + cur.slice(1).replace(/([A-Z]+)/g, (match, p1) => {\r\n        return `_${p1.toLowerCase()}`;\r\n      });\r\n      acc[s] = convertObjKeysToSnakeCase(obj[cur]);\r\n      return acc;\r\n    }, Object());\r\n  }\r\n  return obj;\r\n}\r\n/**\r\n * Formats the provided date object as a UTC ISO string.\r\n * @param {Date} dateTimeToFormat date object to be formatted.\r\n * @param {boolean} includeTime flag to include hours, minutes, seconds in output.\r\n * @param {string} dateDelimiter delimiter between date components.\r\n * @param {string} timeDelimiter delimiter between time components.\r\n * @returns {string} UTC ISO format of provided date obect.\r\n */\r\nfunction formatAsUTCISO(dateTimeToFormat, includeTime = false, dateDelimiter = '', timeDelimiter = '') {\r\n  const year = dateTimeToFormat.getUTCFullYear();\r\n  const month = dateTimeToFormat.getUTCMonth() + 1;\r\n  const day = dateTimeToFormat.getUTCDate();\r\n  const hour = dateTimeToFormat.getUTCHours();\r\n  const minute = dateTimeToFormat.getUTCMinutes();\r\n  const second = dateTimeToFormat.getUTCSeconds();\r\n  let resultString = `${year.toString().padStart(4, '0')}${dateDelimiter}${month.toString().padStart(2, '0')}${dateDelimiter}${day.toString().padStart(2, '0')}`;\r\n  if (includeTime) {\r\n    resultString = `${resultString}T${hour.toString().padStart(2, '0')}${timeDelimiter}${minute.toString().padStart(2, '0')}${timeDelimiter}${second.toString().padStart(2, '0')}Z`;\r\n  }\r\n  return resultString;\r\n}\r\n/**\r\n * Examines the runtime environment and returns the appropriate tracking string.\r\n * @returns {string} metrics tracking string based on the current runtime environment.\r\n */\r\nfunction getRuntimeTrackingString() {\r\n  if (\r\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n  // @ts-ignore\r\n  globalThis.Deno &&\r\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n  // @ts-ignore\r\n  globalThis.Deno.version &&\r\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n  // @ts-ignore\r\n  globalThis.Deno.version.deno) {\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    // @ts-ignore\r\n    return `gl-deno/${globalThis.Deno.version.deno}`;\r\n  } else {\r\n    return `gl-node/${process.versions.node}`;\r\n  }\r\n}\r\n/**\r\n * Looks at package.json and creates the user-agent string to be applied to request headers.\r\n * @returns {string} user agent string.\r\n */\r\nfunction getUserAgentString() {\r\n  const pkg = (0, package_json_helper_cjs_1.getPackageJSON)();\r\n  const hyphenatedPackageName = pkg.name.replace('@google-cloud', 'gcloud-node') // For legacy purposes.\r\n  .replace('/', '-'); // For UA spec-compliance purposes.\r\n  return hyphenatedPackageName + '/' + pkg.version;\r\n}\r\nfunction getDirName() {\r\n  let dirToUse = '';\r\n  try {\r\n    dirToUse = __dirname;\r\n  } catch (e) {\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    // @ts-ignore\r\n    dirToUse = __dirname;\r\n  }\r\n  return dirToUse;\r\n}\r\nfunction getModuleFormat() {\r\n  return isEsm ? 'ESM' : 'CJS';\r\n}\r\nclass PassThroughShim extends stream_1.PassThrough {\r\n  constructor() {\r\n    super(...arguments);\r\n    this.shouldEmitReading = true;\r\n    this.shouldEmitWriting = true;\r\n  }\r\n  _read(size) {\r\n    if (this.shouldEmitReading) {\r\n      this.emit('reading');\r\n      this.shouldEmitReading = false;\r\n    }\r\n    super._read(size);\r\n  }\r\n  _write(chunk, encoding, callback) {\r\n    if (this.shouldEmitWriting) {\r\n      this.emit('writing');\r\n      this.shouldEmitWriting = false;\r\n    }\r\n    // Per the nodejs documention, callback must be invoked on the next tick\r\n    process.nextTick(() => {\r\n      super._write(chunk, encoding, callback);\r\n    });\r\n  }\r\n  _final(callback) {\r\n    // If the stream is empty (i.e. empty file) final will be invoked before _read / _write\r\n    // and we should still emit the proper events.\r\n    if (this.shouldEmitReading) {\r\n      this.emit('reading');\r\n      this.shouldEmitReading = false;\r\n    }\r\n    if (this.shouldEmitWriting) {\r\n      this.emit('writing');\r\n      this.shouldEmitWriting = false;\r\n    }\r\n    callback(null);\r\n  }\r\n}\r\nexports.PassThroughShim = PassThroughShim;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}